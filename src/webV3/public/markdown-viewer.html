<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<style>
		html, body, #content {
			width: 100%;
			height: 100%;
			margin: 0;
			padding: 0;
		}
	</style>
</head>
<body>
<div id="content"></div>

<script>
	window.addEventListener("message", handleMessage);

	function handleMessage(event) {
		var content = document.getElementById('content');
		var message = event.data;

		switch (message.type) {
			case 'resize':
				parent.postMessage({
					type: 'resize',
					payload: window.getComputedStyle(document.body, null).getPropertyValue('height')
				}, '*');
				break;

			case 'render':
				var element = message.payload;
				// content.style.width = element.args.width || 'auto';
				// content.style.auto = element.args.height || 'auto';

				document.getElementById('content').innerHTML = element.content;
				handleMessage({ data: { type: 'resize' } });
				break;
		}
	}
</script>
</body>
</html>