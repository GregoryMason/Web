<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>µPad</title>
		<link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
		<!-- <link rel="stylesheet" type="text/css" href="css/libs/jquery.modal.min.css"> -->
		<link rel="stylesheet" type="text/css" href="css/notepadStyle.css">
	</head>
	<body>
		<nav class="blue-grey" style="box-shadow: none;">
			<div class="nav-wrapper">
				<ul class="left">
					<a id="menu-button" data-activates="menu" class="left"><i class="material-icons">menu</i></a>
					<span class="brand-logo left">µPad</span>
				</ul>

				<ul class="right">
					<li><div style="top: 10px;" class="file-field input-field"><div class="waves-effect waves-light btn amber darken-1 tooltipped" data-position="left" data-delay="50" data-tooltip="Upload a .npx file or a .zip archive containing .npx files"><span>Upload Notepad</span><input id="upload" type="file"></div><div style="display: none;" class="file-path-wrapper"><input id="upload-name" class="file-path validate" type="text"></div></div></li>

					<li><a class="dropdown-button" href="#!" data-activates="notepad-dropdown"><i class="material-icons left">collections_bookmark</i>Notepads<i class="material-icons right">arrow_drop_down</i></a></li>
					<li><a class="dropdown-button" href="#!" data-activates="section-dropdown"><i class="material-icons left">book</i>Sections<i class="material-icons right">arrow_drop_down</i></a></li>
					<li><a class="dropdown-button" href="#!" data-activates="notes-dropdown"><i class="material-icons left">note</i>Notes<i class="material-icons right">arrow_drop_down</i></a></li>
					<li id="search-button"><a href="#!" class="modal-trigger" data-target="search"><i class="material-icons left">search</i>Search</a></li>
				</ul>
			</div>
		</nav>

		<!-- Breadcrumbs -->
		<nav id="breadcrumb-holder" class="blue-grey" style="top: 64px;">
			<div class="nav-wrapper">
				<div id="parents" class="col s12" style="padding-left: 10px;">
					<span id="open-note" class="breadcrumb display-with-note" style="display: none;"></span>
				</div>
			</div>
		</nav>

		<!-- Sidenav -->
		<ul id="menu" class="side-nav">
			<li><strong>Options</strong></li>
			<li><input id="title-input" type="text" placeholder="Title" /></li>
			<li><a href="javascript:updateTitle();" class="btn green waves-effect waves-light">Update Title</a></li>
			<li><a href="javascript:deleteOpen();" class="btn red waves-effect waves-light"><i class="material-icons left" style="color: #fff;">delete_forever</i> Delete <span id="open-type"></span></a></li>
			<li><div class="divider"></div></li>
			<li><a href="javascript:exportOpen();" class="btn blue waves-effect waves-light"><i class="material-icons left" style="color: #fff;">file_download</i> Export Notepad</a></li>
		</ul>

		<!-- Notepads -->
		<ul id="notepad-dropdown" class="dropdown-content">
			<li><a class="modal-trigger" data-target="new-notepad"><i class="material-icons left">add</i>New</a></li>
			<li><a class="tooltipped" data-position="left" data-delay="50" data-tooltip="Export all of your notepads to an archive of NPX files" href="javascript:exportNotepads();"><i class="material-icons left">file_download</i>Export All</a></li>
			<li class="divider"></li>
			<div id="notepadList"></div>
		</ul>

		<!-- Sections -->
		<ul id="section-dropdown" class="dropdown-content">
			<li id="add-section-link" style="display: none"><a class="modal-trigger" data-target="new-section"><i class="material-icons left">add</i>Section</a></li>
			<li class="divider"></li>
			<div id="sectionList"></div>
		</ul>

		<!-- Notes -->
		<ul id="notes-dropdown" class="dropdown-content">
			<li id="add-note-link" style="display: none"><a class="modal-trigger" data-target="new-note"><i class="material-icons left">note_add</i>Note</a></li>
			<li class="divider"></li>
			<div id="noteList"></div>
		</ul>

		<!-- Search -->
		<div id="search" class="modal modal-fixed-footer">
			<div class="modal-content">
				<div class="input-field">
					<input id="search-text" placeholder="Search for Notes in Notepad" autocomplete="off" autofocus />
				</div>
				<ul id="search-results"></ul>
			</div>
			<div class="modal-footer">
				<a href="#!" class="modal-action modal-close waves-effect waves-light btn-flat">Close</a>
				<a href="javascript:deleteElement();" class="modal-action modal-close waves-effect waves-red btn-flat">Delete Element</a>
			</div>
		</div>

		<!-- New Notepad -->
		<div id="new-notepad" class="modal">
			<div class="modal-content">
				<h4>New Notepad</h4>
				<div class="input-field">
					<label for="new-notepad-title">Notepad Title</label>
					<input id="new-notepad-title" type="text" autofocus />
				</div>
			</div>
			<div class="modal-footer">
				<a href="javascript:newNotepad();" class="modal-action modal-close waves-effect waves-green btn-flat"><i class="material-icons left">add</i>Create</a>
			</div>
		</div>

		<!-- New Section -->
		<div id="new-section" class="modal">
			<div class="modal-content">
				<h4>New Section</h4>
				<div class="input-field">
					<label for="new-section-title">Section Title</label>
					<input id="new-section-title" type="text" autofocus />
				</div>
			</div>
			<div class="modal-footer">
				<a href="javascript:newSection();" class="modal-action modal-close waves-effect waves-green btn-flat"><i class="material-icons left">add</i>Create</a>
			</div>
		</div>

		<!-- New Note -->
		<div id="new-note" class="modal">
			<div class="modal-content">
				<h4>New Note</h4>
				<div class="input-field">
					<label for="new-note-title">Note Title</label>
					<input id="new-note-title" type="text" autofocus />
				</div>
			</div>
			<div class="modal-footer">
				<a href="javascript:newNote();" class="modal-action modal-close waves-effect waves-green btn-flat"><i class="material-icons left">add</i>Create</a>
			</div>
		</div>

		<!-- Insert Elements -->
		<div id="insert" class="modal bottom-sheet modal-fixed-footer">
			<div class="modal-content">
				<h4>Insert</h4>
				<div class="row center-align">
					<div class="col s2">
						<i class="insert-icon material-icons large tooltipped" data-position="bottom" data-delay="50" data-tooltip="Markdown-formatted Text" onclick="insert('markdown');">edit</i>
					</div>

					<div class="col s2">
						<img class="insert-icon tooltipped" style="width: 6rem; height: auto" data-position="bottom" data-delay="50" data-tooltip="Microsoft&reg; Word Document (docx)" onclick="uploadDocx();" src="fonts/MSWord.svg" />
					</div>

					<div class="col s2">
						<i class="insert-icon material-icons large tooltipped" data-position="bottom" data-delay="50" data-tooltip="Drawing Mode" onclick="insert('drawing');">gesture</i>
					</div>

					<div class="col s2">
						<i class="insert-icon material-icons large tooltipped" data-position="bottom" data-delay="50" data-tooltip="Image" onclick="insert('image');">insert_photo</i>
					</div>

					<div class="col s2">
						<i class="insert-icon material-icons large tooltipped" data-position="bottom" data-delay="50" data-tooltip="File">attach_file</i>
					</div>

					<div class="col s2">
						<i class="insert-icon material-icons large tooltipped" data-position="bottom" data-delay="50" data-tooltip="Recording-Attached Note">record_voice_over</i>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<p style="font-size: 9px; display: inline;">The 'Word Launch Icon 2012' is a Registered Trademark of the Microsoft group of companies</p>
				<a href="#!" class="modal-action modal-close waves-effect waves-light btn-flat">Close</a>
			</div>
		</div>
		<a class="modal-trigger btn-floating btn-large waves-effect waves-light red display-with-note" style="position: fixed; right: 20px; bottom: 20px;" data-target="insert"><i class="material-icons">add</i></a>

		<!-- Markdown Editor -->
		<div id="mdEditor" class="modal bottom-sheet modal-fixed-footer" style="min-height: 65%;">
			<div class="modal-content">
				<div class="row">
					<div class="input-field col s8">
						<label for="md-textarea">Content (in Markdown)</label>
						<textarea id="md-textarea" style="height: calc(90% - 10px); width: 100%; margin-top: 10px;" onkeydown="if(event.keyCode===9){var v=this.value,s=this.selectionStart,e=this.selectionEnd;this.value=v.substring(0, s)+'\t'+v.substring(e);this.selectionStart=this.selectionEnd=s+1;return false;}" autofocus></textarea>
					</div>

					<div class="col s4">
							<input id="mdsw" type="text" placeholder="Source Website" />
							<input id="mdfs" type="text" value="16px" placeholder="Font Size" />
							<input id="mdw" type="text" placeholder="Width" />
							<input id="mdh" type="text" placeholder="Height" />
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<a href="#!" class="modal-action modal-close waves-effect waves-light btn-flat">Close</a>
				<a href="javascript:deleteElement();" class="modal-action modal-close waves-effect waves-red btn-flat">Delete Element</a>
			</div>
		</div>

		<!-- Docx Editor -->
		<div id="docxEditor" class="modal bottom-sheet modal-fixed-footer" style="min-height: 65%;">
			<div class="modal-content">
				<div class="row">
					<div class="file-field input-field col s8">
						<div class="waves-effect waves-light btn amber darken-1">
							<span>Upload a Word Document (docx)</span>
							<input id="docx-upload" type="file">
						</div>
						<div class="file-path-wrapper"><input id="docx-upload-name" class="file-path validate" type="text"></div>
					</div>

					<div class="col s4">
							<p>
								This will take your document and convert it to the 
								'Markdown-formatted' text that µPad understands.
							</p>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<a href="#!" class="modal-action modal-close waves-effect waves-light btn-flat">Close</a>
				<a href="javascript:deleteElement();" class="modal-action modal-close waves-effect waves-red btn-flat">Delete Element</a>
			</div>
		</div>

		<!-- Drawing Editor -->
		<div id="drawingEditor" class="modal modal-fixed-footer">
			<div id="canvas-holder" class="modal-content">
				<canvas id="drawing-viewer" width="1000" height="1000" class="col s8" style="border:solid black 1px; touch-action:none"></canvas>
			</div>
			<div class="modal-footer">
				<a href="#!" class="modal-action modal-close waves-effect waves-light btn-flat">Close</a>
				<a href="javascript:deleteElement();" class="modal-action modal-close waves-effect waves-red btn-flat">Delete Element</a>
			</div>
		</div>

		<!-- Image Editor -->
		<div id="imageEditor" class="modal bottom-sheet modal-fixed-footer" style="min-height: 65%;">
			<div class="modal-content">
				<div class="row">
					<div class="file-field input-field col s8">
						<div class="waves-effect waves-light btn amber darken-1">
							<span>Upload Image</span>
							<input id="image-upload" type="file">
						</div>
						<div class="file-path-wrapper"><input id="image-upload-name" class="file-path validate" type="text"></div>
					</div>

					<div class="col s4">
							<input id="isw" type="text" placeholder="Source Website" />
							<input id="iw" type="text" placeholder="Width" />
							<input id="ih" type="text" placeholder="Height" />
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<a href="#!" class="modal-action modal-close waves-effect waves-light btn-flat">Close</a>
				<a href="javascript:deleteElement();" class="modal-action modal-close waves-effect waves-red btn-flat">Delete Element</a>
			</div>
		</div>
		
		<div id="viewer" class="display-with-note"></div>
			
		<script src="js/libs/jquery-3.1.1.min.js"></script>
		<script src="js/libs/materialize.min.js"></script>
		<script src="js/libs/moment.js"></script>
		<script src="js/libs/localforage.min.js"></script>
		<script src="js/libs/FileSaver.min.js"></script>
		<script src="js/libs/jszip.min.js"></script>
		<script src="js/libs/trim-canvas.js"></script>
		<script src="js/libs/mammoth.browser.min.js"></script>

		<script src="js/libs/interact.min.js"></script>
		<script src="js/libs/showdown.min.js"></script>
		<script>window.MathJax = { MathML: { extensions: ["mml3.js", "content-mathml.js"]}};</script>
		<script type="text/javascript" async src="js/libs/MathJax/MathJax.js?config=MML_HTMLorMML"></script>
		<script src="js/libs/ASCIIMathML.js"></script>
		
		<script src="js/parser.js"></script>
		<script src="js/client.js"></script>
	</body>
</html>