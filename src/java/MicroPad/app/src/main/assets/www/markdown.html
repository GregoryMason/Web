<html>
<head>
	<style>
	</style>
</head>
<body>
	<div id="content"></div>

	<!-- JS Libs -->
	<script>window.MathJax = { MathML: { extensions: ["mml3.js", "content-mathml.js"]}};</script>
	<script type="text/javascript" async src="js/MathJax/MathJax.js?config=MML_HTMLorMML"></script>
	<script src="js/showdown.min.js"></script>
	<script src="js/ASCIIMathML.js"></script>
	<script type="text/javascript">String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})});</script>
	
	<!-- JS Code -->
	<script type="text/javascript">
		showdown.extension('math', function() {
			var matches = [];
			return [
				{
					type: 'lang',
					regex: /===([^]+?)===/gi,
					replace: function(s, match) {
						matches.push('===' + match + '===');
						var n = matches.length - 1;
						return '%PLACEHOLDER' + n + '%';
					}
				},
				{
					type: 'output',
					filter: function(text) {
						for (var i = 0; i < matches.length; ++i) {
							var pat = '%PLACEHOLDER' + i + '%';
							text = text.replace(new RegExp(pat, 'gi'), matches[i]);
						}
						//reset array
						matches = [];
						return text;
					}
				}
			]
		});

		var md = new showdown.Converter({
			parseImgDimensions: true,
			simplifiedAutoLink: true,
			strikethrough: true,
			tables: true,
			tasklists: true,
			prefixHeaderId: 'mdheader',
			smoothLivePreview: true,
			extensions: ['math']
		});

		function display(markdown, width, height, fontSize) {
			var contentDiv = document.getElementById("content");
			contentDiv.style.cssText = "width: {0}; height: {1}; font-size: {2};".format(width, height, fontSize);
			contentDiv.innerHtml = md.makeHtml(markdown);
			asciimath.translate(undefined, true);

			setTimeout(() => {
				MathJax.Hub.Typeset();
			}, 1000);
		}
	</script>
</body>
</html>